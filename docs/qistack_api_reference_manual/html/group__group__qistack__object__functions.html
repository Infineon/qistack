<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QiStack Middleware Library 2.0: Group_qistack_object_functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QiStack Middleware Library 2.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__qistack__object__functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Group_qistack_object_functions</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3ae4e2fcc3d05a3adac13af4d550444b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga3ae4e2fcc3d05a3adac13af4d550444b">Cy_QiStack_Object_Init</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx)</td></tr>
<tr class="memdesc:ga3ae4e2fcc3d05a3adac13af4d550444b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the Qi object manager.  <a href="group__group__qistack__object__functions.html#ga3ae4e2fcc3d05a3adac13af4d550444b">More...</a><br /></td></tr>
<tr class="separator:ga3ae4e2fcc3d05a3adac13af4d550444b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f7b5617f5b96ae62c3555f66eb97269"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga2f7b5617f5b96ae62c3555f66eb97269">Cy_QiStack_Object_Reset</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx)</td></tr>
<tr class="memdesc:ga2f7b5617f5b96ae62c3555f66eb97269"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function resets the Qi object manager.  <a href="group__group__qistack__object__functions.html#ga2f7b5617f5b96ae62c3555f66eb97269">More...</a><br /></td></tr>
<tr class="separator:ga2f7b5617f5b96ae62c3555f66eb97269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga170649aa7054e21d501253ac8dd81a97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga170649aa7054e21d501253ac8dd81a97">Cy_QiStack_Object_Task</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx)</td></tr>
<tr class="memdesc:ga170649aa7054e21d501253ac8dd81a97"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function runs the Qi object manager tasks.  <a href="group__group__qistack__object__functions.html#ga170649aa7054e21d501253ac8dd81a97">More...</a><br /></td></tr>
<tr class="separator:ga170649aa7054e21d501253ac8dd81a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67dd5174492971710dda9e231db1a7fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga67dd5174492971710dda9e231db1a7fb">Cy_QiStack_Object_Q_Factor_Measure</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx)</td></tr>
<tr class="memdesc:ga67dd5174492971710dda9e231db1a7fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function starts the Q factor measurement for object.  <a href="group__group__qistack__object__functions.html#ga67dd5174492971710dda9e231db1a7fb">More...</a><br /></td></tr>
<tr class="separator:ga67dd5174492971710dda9e231db1a7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32223d35e4b39aca45e2e84cef6ab36e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga0f16ec6779356de9d722111cb039336b">cy_en_qi_fod_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga32223d35e4b39aca45e2e84cef6ab36e">Cy_QiStack_Object_Check_Q_Factor_Status</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx, uint32_t fodSupportData)</td></tr>
<tr class="memdesc:ga32223d35e4b39aca45e2e84cef6ab36e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function analyzes measured Q against reference Q.  <a href="group__group__qistack__object__functions.html#ga32223d35e4b39aca45e2e84cef6ab36e">More...</a><br /></td></tr>
<tr class="separator:ga32223d35e4b39aca45e2e84cef6ab36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ed9ab97eb306ea57bab789e5de3241d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__qistack__enums.html#ga0f16ec6779356de9d722111cb039336b">cy_en_qi_fod_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga0ed9ab97eb306ea57bab789e5de3241d">Cy_QiStack_Object_Check_Res_Freq_Status</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx, uint32_t fodSupportData)</td></tr>
<tr class="memdesc:ga0ed9ab97eb306ea57bab789e5de3241d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function analyzes measured Resonance Frequency against reference frequency.  <a href="group__group__qistack__object__functions.html#ga0ed9ab97eb306ea57bab789e5de3241d">More...</a><br /></td></tr>
<tr class="separator:ga0ed9ab97eb306ea57bab789e5de3241d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ef235fd5f89e83abce827fca3b1cac4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__qistack__object__functions.html#ga5ef235fd5f89e83abce827fca3b1cac4">Cy_QiStack_Validate_Calib_Data</a> (<a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *qiCtx)</td></tr>
<tr class="memdesc:ga5ef235fd5f89e83abce827fca3b1cac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function validates the calibration data.  <a href="group__group__qistack__object__functions.html#ga5ef235fd5f89e83abce827fca3b1cac4">More...</a><br /></td></tr>
<tr class="separator:ga5ef235fd5f89e83abce827fca3b1cac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3ae4e2fcc3d05a3adac13af4d550444b" name="ga3ae4e2fcc3d05a3adac13af4d550444b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ae4e2fcc3d05a3adac13af4d550444b">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a> Cy_QiStack_Object_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the Qi object manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QISTACK_STAT_SUCCESS if operation is successful CY_QISTACK_STAT_BAD_PARAM if the input parameters are not valid</dd></dl>
<p>This function initializes the Qi object manager. </p>
<p >Q factor initialization</p>

</div>
</div>
<a id="ga2f7b5617f5b96ae62c3555f66eb97269" name="ga2f7b5617f5b96ae62c3555f66eb97269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f7b5617f5b96ae62c3555f66eb97269">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a> Cy_QiStack_Object_Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function resets the Qi object manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QISTACK_STAT_SUCCESS if operation is successful CY_QISTACK_STAT_BAD_PARAM if the input parameters are not valid </dd></dl>
<p >Reset object status. Do not reset object detect status as it is needed for object remove event. If object is not present in the subsequent analog ping, status is cleared implicitly.</p>

</div>
</div>
<a id="ga170649aa7054e21d501253ac8dd81a97" name="ga170649aa7054e21d501253ac8dd81a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga170649aa7054e21d501253ac8dd81a97">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a> Cy_QiStack_Object_Task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function runs the Qi object manager tasks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QISTACK_STAT_SUCCESS if operation is successful CY_QISTACK_STAT_BAD_PARAM if the input parameters are not valid </dd></dl>

</div>
</div>
<a id="ga67dd5174492971710dda9e231db1a7fb" name="ga67dd5174492971710dda9e231db1a7fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67dd5174492971710dda9e231db1a7fb">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Q_Factor_Measure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga87b36f45afbb9b439bb03a28f1905eaf">cy_en_qi_status_t</a> Cy_QiStack_Object_Q_Factor_Measure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function starts the Q factor measurement for object. </p>
<p >Q factor measure also initiates analog pings and stays in critical section until Q factor measurement is completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QISTACK_STAT_SUCCESS if operation is successful CY_QISTACK_STAT_BAD_PARAM if the input parameters are not valid </dd></dl>
<p >Poll comparators status in critical section to avoid interrupt call overheads. WARNING! This is hard critical section and do not remove.</p>
<p >Read and clear INTR1 immediately to not miss second interrupt in this register.</p>
<p >With assumption of average loop time of 1uS, exit after 2mS. 2mS is maximum Q_COMP response time.</p>
<p >Calculate frequency</p>
<p >Get cycle count difference between available counter samples. Sort in ascending order and get the median. Get the average of counts which are not deviated much from median. This is to avoid deviated values in the sampling. Note: Average of all cycle count differences will include deviated value which results in bad frequency.</p>
<p >Ignore the last index as there will not be data entry</p>
<p >Diff count of atleast 5 cycles or minimum available samples</p>
<p >Sort the count_array</p>

</div>
</div>
<a id="ga32223d35e4b39aca45e2e84cef6ab36e" name="ga32223d35e4b39aca45e2e84cef6ab36e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32223d35e4b39aca45e2e84cef6ab36e">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Check_Q_Factor_Status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga0f16ec6779356de9d722111cb039336b">cy_en_qi_fod_stat_t</a> Cy_QiStack_Object_Check_Q_Factor_Status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>fodSupportData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function analyzes measured Q against reference Q. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
    <tr><td class="paramname">fodSupportData</td><td>QiStack Reference Q to compare against. If no reference, pass 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QI_FOD_STAT_ERROR if analysis error CY_QI_FOD_STAT_FO if analysis success and FO present CY_QI_FOD_STAT_NO_FO if analysis success and no FO present </dd></dl>
<p >FOD status FOD in EPP with reference.</p>
<p >Check if Q reported is in range to analyze</p>

</div>
</div>
<a id="ga0ed9ab97eb306ea57bab789e5de3241d" name="ga0ed9ab97eb306ea57bab789e5de3241d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ed9ab97eb306ea57bab789e5de3241d">&#9670;&nbsp;</a></span>Cy_QiStack_Object_Check_Res_Freq_Status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__qistack__enums.html#ga0f16ec6779356de9d722111cb039336b">cy_en_qi_fod_stat_t</a> Cy_QiStack_Object_Check_Res_Freq_Status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>fodSupportData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function analyzes measured Resonance Frequency against reference frequency. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
    <tr><td class="paramname">fodSupportData</td><td>QiStack Reference frequency (in Hz) to compare against. If no reference, pass 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_QI_FOD_STAT_ERROR if analysis error CY_QI_FOD_STAT_FO if analysis success and FO present CY_QI_FOD_STAT_NO_FO if analysis success and no FO present </dd></dl>
<p >Check if FOD without reference</p>
<p >Free air FOD or BPP FOD case without reference. Do nothing.</p>
<p >FOD status FOD in EPP with reference. No range check needed for fodSupportData.</p>

</div>
</div>
<a id="ga5ef235fd5f89e83abce827fca3b1cac4" name="ga5ef235fd5f89e83abce827fca3b1cac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ef235fd5f89e83abce827fca3b1cac4">&#9670;&nbsp;</a></span>Cy_QiStack_Validate_Calib_Data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_QiStack_Validate_Calib_Data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__qi__context__t.html">cy_stc_qi_context_t</a> *&#160;</td>
          <td class="paramname"><em>qiCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function validates the calibration data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qiCtx</td><td>QiStack Library Context pointer.</td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<p>return None. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>QiStack Middleware Library 2.0</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
